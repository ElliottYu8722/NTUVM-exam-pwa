<!doctype html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ç¸é†«å¸«åœ‹è€ƒï¼ˆPWAï¼‰</title>
  <link rel="manifest" href="manifest.json?v=2" />
  <link rel="icon" type="image/png" sizes="192x192" href="./icons/golden-192.png">
  <link rel="apple-touch-icon" href="./icons/golden-192.png">
  <meta name="theme-color" content="#000000"/>
  <style>
    :root {
      /* é è¨­ï¼šæš—è‰²ä½†ä¸è¦å¤ªæ‚¶çš„æ·±è—ç° */
      --bg: #050712;
      --fg: #e5e7eb;
      --muted: #9ca3af;
      --card: #0b1220;
      --border: #1f2937;
      --accent: #60a5fa;
      --btn: #111827;
      --btn-fg: #e5e7eb;
      --pill: #141b2b;
    }
    /* äº®è‰²ä¸»é¡Œï¼šæŸ”å’Œæš–ç™½ï¼‹æ·±ç°æ–‡å­— */
    .light {
      --bg: #f5f5f7;
      --fg: #111827;
      --muted: #6b7280;
      --card: #ffffff;
      --border: #e5e7eb;
      --accent: #2563eb;
      --btn: #f3f4f6;
      --btn-fg: #111827;
      --pill: #e5e7eb;
    }

    /* å¤©ç©ºï¼šé«˜ç©ºè—ï¼‹ç™½é›²ï¼Œæ¸…çˆ½æ˜äº® */
    body.theme-sky {
      --bg: linear-gradient(180deg, #38a9ff 0%, #7fd3ff 45%, #e7f7ff 100%);
      --card: rgba(255, 255, 255, 0.96);
      --border: rgba(255, 255, 255, 0.7);
      --fg: #134166;
      --muted: #5b7c9a;
      --accent: #2563eb;
      --btn: rgba(255, 255, 255, 0.9);
      --btn-fg: #134166;
      --pill: rgba(255, 255, 255, 0.7);
    }

    /* æµ·æ´‹ï¼šæ¸…æ¾ˆè—ç¶ ï¼Œé€æ˜æ„Ÿï¼‹é™½å…‰åå…‰ */
    body.theme-ocean {
      --bg: linear-gradient(180deg, #00a3c8 0%, #00c8b4 40%, #00b48a 100%);
      --card: rgba(2, 40, 54, 0.94);
      --border: rgba(109, 241, 255, 0.45);
      --fg: #eaffff;
      --muted: #b6e7ea;
      --accent: #6df1ff;
      --btn: #043039;
      --btn-fg: #eaffff;
      --pill: #052631;
    }


    /* æ£®æ—ï¼šæ¸…çˆ½æ¨¹æ—ï¼‹é™½å…‰å…‰æŸï¼Œä¸å†æ˜¯å¤§ä¾¿è‰² ğŸ˜† */
    body.theme-forest {
      /* å¤šå±¤æ¬¡èƒŒæ™¯ï¼šä¸Šé¢åè—ç¶ æ¨¹å† ï¼Œä¸­é–“äº®ç¶ ï¼Œåº•ä¸‹ä¸€é»åœŸè‰² */
      --bg:
        radial-gradient(circle at 20% 0%, #99f2c8 0%, transparent 55%),
        radial-gradient(circle at 80% 10%, #b4ff9f 0%, transparent 55%),
        linear-gradient(180deg, #0b2f2a 0%, #166534 40%, #204020 75%, #2b2415 100%);
    
      --card: rgba(9, 35, 24, 0.96);              /* æ·±ä¸€é»çš„ç¶ ï¼Œåƒæ¨¹å¹¹é™°å½± */
      --border: rgba(144, 230, 144, 0.6);         /* æ·ºç¶ é‚Šç·š */
    
      --fg: #f6fff5;
      --muted: #cceecd;
      --accent: #8df29b;                          /* äº®è‘‰ç¶ ï¼Œé»é¸æœƒå¾ˆé†’ç›® */
      --btn: #173826;
      --btn-fg: #f6fff5;
      --pill: #153323;
    }
    /* è›‹é»ƒï¼šäº®é»ƒæµå¿ƒï¼‹ä¸€é»å¥¶æ²¹ç™½ï¼Œæ•´é«”åäº® */
    body.theme-yolk {
      /* èƒŒæ™¯ï¼šä¸­é–“äº®ã€é‚Šç·£ç¨å¾®æ·±ä¸€é»ï¼Œåƒç›¤å­ä¸Šçš„åŠç†Ÿè›‹ */
      --bg:
        radial-gradient(circle at 30% 20%, #fffbe8 0%, #ffeeb8 26%, transparent 60%),
        radial-gradient(circle at 75% 70%, #fff6cf 0%, #ffd96a 35%, transparent 65%),
        linear-gradient(180deg, #fff9e9 0%, #ffe89a 45%, #ffd45c 100%);
    
      --card: rgba(255, 255, 255, 0.97);
      --border: rgba(255, 210, 90, 0.8);
    
      /* æŠŠæ©˜è‰²æ›æˆåäº®é»ƒ */
      --fg: #4b3412;
      --muted: #8b6d3a;
      --accent: #ffdd33;   /* äº®è›‹é»ƒ */
      --btn: #fff3cf;
      --btn-fg: #4b3412;
      --pill: #ffe9a8;
    }
    /* å®‡å®™ï¼šéœ“è™¹æ˜Ÿé›²ï¼‹æ·±è—ç´«ï¼Œå¸¶ä¸€é»ç™¼å…‰æ„Ÿ */
    body.theme-cosmos {
      --bg: radial-gradient(circle at top, #2b2d6f 0%, #050418 45%, #02000b 100%);
      --card: rgba(10, 14, 40, 0.94);
      --border: rgba(131, 213, 255, 0.35);
      --fg: #f7f4ff;
      --muted: #a9b2ff;
      --accent: #83d5ff;
      --btn: #141935;
      --btn-fg: #f7f4ff;
      --pill: #10162b;
    }

    body{margin:0;font-family:-apple-system, BlinkMacSystemFont, "SF Pro Text", "Noto Sans TC", Segoe UI, Roboto, Helvetica, Arial, "PingFang TC", "Heiti TC", "Microsoft JhengHei", sans-serif;background:var(--bg);color:var(--fg);}
    .light{--bg:#fff;--fg:#000;--card:#f7f7f8;--border:#e5e5e6;--muted:#666;--btn:#f1f1f1;--btn-fg:#000;--pill:#ececec;}
    .app{display:grid;grid-template-columns:240px 1fr 280px;gap:16px;min-height:100vh;align-items:start;padding:16px}
    .panel{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px}
    .left .group{display:flex;flex-direction:column;gap:10px;margin-bottom:16px}
    .select, .btn, .checkbox{font-size:16px}
    .select{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--pill);color:var(--fg)}
    .btn{padding:10px 14px;border-radius:9999px;border:1px solid var(--border);background:transparent;color:var(--fg);cursor:pointer}
    .btn:hover{border-color:var(--accent);color:var(--accent)}
    .checkbox{display:flex;align-items:center;gap:8px;color:var(--fg)}
    .center .topbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-bottom:12px}
    .badge{padding:6px 10px;border:1px solid var(--border);border-radius:9999px;background:transparent;color:var(--fg);font-size:14px}
    .question-card{border-radius:16px;border:1px solid var(--border);padding:16px;background:var(--card)}
    .qtext{font-size:18px;line-height:1.6}
    .qimg{margin-top:10px;max-width:100%;height:auto;border-radius:8px;border:1px solid var(--border)}
    .options{margin-top:10px;display:flex;flex-direction:column;gap:8px}
    .navrow{display:flex;gap:8px;align-items:center;margin-top:14px}
    .spacer{flex:1}
    .right .q-list{height:70vh;overflow:auto;border-radius:12px;border:1px solid var(--border);background:var(--card);padding:8px}
    .q-item{padding:8px 10px;border-radius:8px;cursor:pointer}
    .q-item.active{background:var(--accent);color:#fff}
    .notes{margin-top:14px}
    .toolbar{display:flex;flex-wrap:wrap;gap:6px;align-items:center;border:1px solid var(--border);border-radius:10px;background:transparent;padding:6px}
    .toolbar .pill{padding:6px 10px;border-radius:9999px;border:1px solid var(--border);background:transparent;color:var(--fg);cursor:pointer;font-size:14px}
    .toolbar .pill.active{border-color:var(--accent);color:var(--accent)}
    .toolbar select, .toolbar input[type=color]{border:1px solid var(--border);background:transparent;color:var(--fg);border-radius:8px;padding:6px 8px}
    .editor{border:1px solid var(--border);border-radius:12px;background:var(--card);min-height:180px;padding:12px;margin-top:8px;outline:none}
    .timer{font-weight:700}
    .footer-hint{margin-top:12px;color:var(--muted);font-size:12px;text-align:center}
    .color-palette{
      position:absolute;
      display:grid;
      grid-template-columns: repeat(5, 1fr); /* 5 å€‹ä¸€è¡Œ â†’ 3 è¡Œ = 15 è‰² */
      gap:6px;
      padding:6px;
      border-radius:8px;
      background:var(--card,#1b1b1b);
      border:1px solid var(--border,#2a2a2a);
      z-index:1000;
    }
    
    .color-palette.hidden{
      display:none;
    }
    
    .color-palette button{
      width:22px;
      height:22px;
      border-radius:9999px;
      border:1px solid rgba(255,255,255,.7);
      padding:0;
      cursor:pointer;
    }
    .hidden{display:none !important}
    /* mobile */
    .mobile-toggle-bar { display:none; }
    @media (max-width: 1100px){
      .app{grid-template-columns:1fr}
      .right{order:3}
    }
    @media (max-width: 768px),
           (max-width: 1024px) and (orientation: portrait) {
      /* ä¸­é–“ç…§æ¨£æ’æ»¿ */
      .center.panel {
        flex: 1 1 100%;
        max-width: 100%;
      }
    
      /* å·¦å³æ¬„æ”¹æˆå›ºå®šåœ¨å·¦å³å´çš„æŠ½å±œï¼Œé è¨­åœ¨è¢å¹•å¤– */
      .left.panel,
      .right.panel {
        position: fixed;
        top: 0;
        bottom: 0;
        width: 80vw;
        max-width: 320px;
        z-index: 100001;
        background: var(--bg);
        box-shadow: 0 0 20px rgba(0,0,0,.6);
        overflow-y: auto;
        transition: transform .25s ease;
      }
    
      .left.panel {
        left: 0;
        transform: translateX(-100%);
      }
    
      .right.panel {
        right: 0;
        transform: translateX(100%);
      }
    
      /* é¡¯ç¤ºæŠ½å±œçš„ç‹€æ…‹ï¼ˆç”¨ body ä¸Šçš„ class æ§åˆ¶ï¼‰ */
      body.show-left-panel .left.panel {
        transform: translateX(0);
      }
    
      body.show-right-panel .right.panel {
        transform: translateX(0);
      }
    
      /* æ‰‹æ©Ÿç‰ˆæ‰é¡¯ç¤ºçš„ä¸Šæ–¹å…©é¡†æŒ‰éˆ• */
      .mobile-toggle-bar {
        display: flex;
        gap: 8px;
        margin-bottom: 8px;
      }
    
      .mobile-toggle-btn {
        flex: 0 0 auto;
        padding: 6px 10px;
        border-radius: 9999px;
        border: 1px solid var(--border);
        background: var(--card);
        color: var(--fg);
        font-size: 13px;
      }
    
      /* æ‰‹æ©Ÿæ™‚éš±è—åŸæœ¬å·¦æ¬„ï¼ˆé¿å…ä½”ç‰ˆé¢ï¼›çœŸæ­£å…§å®¹ç”¨æŠ½å±œé‚£å€‹ fixed å…ƒç´ é¡¯ç¤ºï¼‰ */
      .app {
        grid-template-columns: 1fr;
      }
    }
    #comment-nickname,
    #comment-text {
      display: block;
      width: 100%;
      box-sizing: border-box;  /* é—œéµï¼šå¯¬åº¦å« paddingï¼Œä¸æœƒå†å‡¸å‡ºå» */
      margin-top: 6px;
  
      /* æƒ³é †ä¾¿è®“å®ƒå€‘é•·å¾—è·Ÿæ•´é«”é¢¨æ ¼ä¸€æ¨£ï¼Œå¯ä»¥åŠ ä¸‹é¢é€™å¹¾è¡Œ */
      background: var(--card, #1b1b1b);
      color: var(--fg, #fff);
      border-radius: 10px;
      border: 1px solid var(--border, #2a2a2a);
      padding: 8px 10px;
      font-size: 14px;
    }
  </style>
</head>
<body class="">
  <div class="app" id="app">
    <!-- å·¦ï¼šå·¥å…·åˆ— -->
    <aside class="left panel">
      <div class="group">
        <select id="yearSel" class="select">
          <option>109</option><option>110</option><option>111</option><option>112</option><option>113</option><option selected>114</option>
        </select>
        <select id="roundSel" class="select">
          <option selected>ç¬¬ä¸€æ¬¡</option><option>ç¬¬äºŒæ¬¡</option>
        </select>
        <select id="subjectSel" class="select">
          <option value="ç¸é†«ç—…ç†å­¸" selected>ç¸é†«ç—…ç†å­¸</option>
          <option value="ç¸é†«è—¥ç†å­¸">ç¸é†«è—¥ç†å­¸</option>
          <option value="ç¸é†«å¯¦é©—è¨ºæ–·å­¸">ç¸é†«å¯¦é©—è¨ºæ–·å­¸</option>
          <option value="ç¸é†«æ™®é€šç–¾ç—…å­¸">ç¸é†«æ™®é€šç–¾ç—…å­¸</option>
          <option value="ç¸é†«å‚³æŸ“ç—…å­¸">ç¸é†«å‚³æŸ“ç—…å­¸</option>
          <option value="ç¸é†«å…¬å…±è¡›ç”Ÿå­¸">ç¸é†«å…¬å…±è¡›ç”Ÿå­¸</option>
        </select>
      </div>

      <label class="checkbox"><input id="showAns" type="checkbox">é¡¯ç¤ºç­”æ¡ˆ</label>
      <button id="btnExam" class="btn">æ¸¬é©—æ¨¡å¼</button>
      <button id="btnRecords" class="btn">ä½œç­”ç´€éŒ„</button>
      <!-- ä¸»é¡Œé¸æ“‡ -->
      <div class="group">
        <label for="themeSel" class="checkbox">
          <select id="themeSel" class="select">
            <option value="dark">æš—è‰²</option>
            <option value="light">äº®è‰²</option>
            <option value="sky">å¤©ç©º</option>
            <option value="ocean">æµ·æ´‹</option>
            <option value="forest">æ£®æ—</option>
            <option value="yolk">è›‹é»ƒ</option>
            <option value="cosmos">å®‡å®™</option>
          </select>
        </label>
      </div>

      <div id="group-section" class="group" style="margin-bottom: 16px;">
        <div style="display:flex; justify-content:space-between; align-items:center; font-weight:bold; margin-bottom:6px;">
          <span>ç¾¤çµ„</span>
          <button id="add-group-btn" class="btn" style="padding:0 8px; font-weight:bold;">ï¼‹</button>
        </div>
        <ul id="group-list" style="list-style:none; padding-left:0; max-height:200px; overflow:auto; margin:0;"></ul>
        <button id="show-all-questions-btn" class="btn" style="margin-top:6px; width:100%;">é¡¯ç¤ºå…¨éƒ¨é¡Œç›®</button>
      </div>

      <hr style="border:none;border-top:1px solid var(--border);margin:16px 0">
      <div class="group">
        <input id="qFile" class="hidden" type="file" accept="application/json">
        <input id="aFile" class="hidden" type="file" accept="application/json">
      </div>
      <p style="color:var(--muted);font-size:12px;line-height:1.6">
        è©³è§£æœƒé™¸çºŒæ–°å¢ï¼Œä¹‹å¾Œæœƒæ…¢æ…¢æŠŠæ¯ä¸€é¡Œè£œé½Šå”·ï¼ï¼<br>
        ç‰¹åˆ¥æ„Ÿè¬è©³è§£ç¾¤çµ„çš„æ¯ä¸€ä½æˆå“¡ä¸€èµ·å¹«å¿™æ•´ç†ï¼ï¼
      </p>
    </aside>
    
    <!-- ä¸­ï¼šé¡Œç›®ï¼‹ç­†è¨˜ -->
    <main class="center">
      <div class="mobile-toggle-bar">
        <button id="btnOpenLeft" class="mobile-toggle-btn">å·¥å…·</button>
        <button id="btnOpenRight" class="mobile-toggle-btn">é¡Œè™Ÿ</button>
      </div>
      <div class="topbar">
        <span class="badge">ç§‘ç›®ï¼š<span id="bSubj">ç¸é†«ç—…ç†å­¸</span></span>
        <span class="badge">å¹´ä»½ï¼š<span id="bYear">114</span></span>
        <span class="badge">æ¢¯æ¬¡ï¼š<span id="bRound">ç¬¬ä¸€</span></span>
        <span class="badge timer hidden" id="timer">å‰©é¤˜ 60:00</span>
        <span class="badge hidden" id="reviewTag">å›é¡§æ¨¡å¼ï¼ˆåƒ…çœ‹éŒ¯é¡Œï¼‰</span>
        <span class="spacer"></span>
        <button id="btnSubmit" class="btn hidden">æäº¤æ¸¬é©—</button>
        <button id="btnClose" class="btn hidden">é—œé–‰æ¸¬é©—</button>
      </div>

      <div class="question-card">
        <div id="qNum" class="badge" style="margin-bottom:8px">ç¬¬ 1 é¡Œ</div>
        <div id="qText" class="qtext">è«‹å…ˆè¼‰å…¥é¡Œç›®</div>
        <img id="qImg" class="qimg hidden" alt="">
        <div id="qOpts" class="options"></div>
        <div id="qExplain" class="qtext hidden"
             style="margin-top:12px;border-top:1px solid var(--border);padding-top:10px;"></div>

        <div class="navrow">
          <button id="prev" class="btn">ä¸Šä¸€é¡Œ</button>
          <button id="next" class="btn">ä¸‹ä¸€é¡Œ</button>
          <span class="spacer"></span>
          <button id="btnToggleAns" class="btn">åˆ‡æ›é¡¯ç¤ºç­”æ¡ˆ</button>
        </div>
      </div>
      <!-- æ–°å¢ï¼šç•™è¨€å€ï¼ˆé¡Œç›®ä¸‹ã€ç­†è¨˜ä¸Šï¼‰ -->
      <div id="comments-section" class="panel" style="margin-top:12px;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
          <span style="font-weight:bold;">ç•™è¨€å€</span>
          <span id="comments-count" style="font-size:12px;color:var(--muted);"></span>
        </div>
    
        <div id="comments-list"
             style="max-height:200px;overflow:auto;margin-bottom:8px;font-size:14px;">
          ç›®å‰é‚„æ²’æœ‰ç•™è¨€ï¼Œæˆç‚ºç¬¬ä¸€å€‹ç•™è¨€çš„äººå§ï¼
        </div>
    
        <form id="comment-form"
              style="display:flex;flex-direction:column;gap:6px;">
          <input id="comment-nickname"
                 class="select"
                 maxlength="20"
                 placeholder="æš±ç¨±" />
    
          <textarea id="comment-text"
                    class="select"
                    rows="3"
                    maxlength="500"
                    placeholder="ç•™è¨€å…§å®¹"></textarea>
    
          <button type="submit" class="btn">é€å‡ºç•™è¨€</button>
        </form>
      </div>      
      
      <div class="notes">
        <div class="toolbar">
          <!-- å­—ç´š -->
          <select id="fontSel">
            <option>12</option>
            <option>14</option>
            <option selected>16</option>
            <option>18</option>
            <option>20</option>
            <option>24</option>
            <option>28</option>
            <option>32</option>
          </select>
        
          <!-- ç²—é«” / æ–œé«” / åº•ç·š -->
          <button class="pill" id="bBold"><b>B</b></button>
          <button class="pill" id="bItalic"><i>I</i></button>
          <button class="pill" id="bUnder"><u>U</u></button>
        
          <!-- ä¸Šæ¨™ / ä¸‹æ¨™ -->
          <button class="pill" id="bSub">xâ‚‚</button>
          <button class="pill" id="bSup">xÂ²</button>
        
          <button class="pill" id="bFontColor">
            <span>å­—é«”é¡è‰²</span>
            <span>â–¾</span>
          </button>
          <!-- è‡ªè£½é¡è‰²é¢æ¿ -->
          <div id="fontColorPalette" class="color-palette hidden">
                        <!-- ç¬¬ä¸€è¡Œï¼šåŸºæœ¬ -->
            <button data-color="#ffffff" style="background:#ffffff;"></button>
            <button data-color="#000000" style="background:#000000;"></button>
            <button data-color="#d32f2f" style="background:#d32f2f;"></button>
            <button data-color="#1976d2" style="background:#1976d2;"></button>
            <button data-color="#388e3c" style="background:#388e3c;"></button>
            <!-- ç¬¬äºŒè¡Œï¼šåäº®ä¸€é» -->
            <button data-color="#fbc02d" style="background:#fbc02d;"></button>
            <button data-color="#f57c00" style="background:#f57c00;"></button>
            <button data-color="#7b1fa2" style="background:#7b1fa2;"></button>
            <button data-color="#0097a7" style="background:#0097a7;"></button>
            <button data-color="#5d4037" style="background:#5d4037;"></button>
            <!-- ç¬¬ä¸‰è¡Œï¼šæ·¡è‰²ç³» -->
            <button data-color="#e0e0e0" style="background:#e0e0e0;"></button>
            <button data-color="#ffccbc" style="background:#ffccbc;"></button>
            <button data-color="#c5e1a5" style="background:#c5e1a5;"></button>
            <button data-color="#b3e5fc" style="background:#b3e5fc;"></button>
            <button data-color="#ffcdd2" style="background:#ffcdd2;"></button>
          </div>
          
          <!-- è¢å…‰ç­†ï¼šä¸»æŒ‰éˆ• -->
          <button class="pill" id="bHL">
            <span>è¢å…‰ç­†</span>
            <span>â–¾</span>
          </button>
          <!-- è‡ªè£½è¢å…‰ç­†è‰²ç›¤ -->
          <div id="hlPalette" class="color-palette hidden">
            <!-- ç¬¬ä¸€æ’ï¼šå¸¸ç”¨äº®è‰² -->
            <button data-color="#fff59d" style="background:#fff59d;"></button>
            <button data-color="#ffcc80" style="background:#ffcc80;"></button>
            <button data-color="#b2ff59" style="background:#b2ff59;"></button>
            <button data-color="#80deea" style="background:#80deea;"></button>
            <button data-color="#ef9a9a" style="background:#ef9a9a;"></button>
          
            <!-- ç¬¬äºŒæ’ï¼šç¨æ·±ä¸€é» -->
            <button data-color="#fff176" style="background:#fff176;"></button>
            <button data-color="#ffb74d" style="background:#ffb74d;"></button>
            <button data-color="#aed581" style="background:#aed581;"></button>
            <button data-color="#4dd0e1" style="background:#4dd0e1;"></button>
            <button data-color="#e57373" style="background:#e57373;"></button>
          
            <!-- ç¬¬ä¸‰æ’ï¼šæ·¡è‰²ç³» -->
            <button data-color="#fff9c4" style="background:#fff9c4;"></button>
            <button data-color="#ffe0b2" style="background:#ffe0b2;"></button>
            <button data-color="#e6ee9c" style="background:#e6ee9c;"></button>
            <button data-color="#b3e5fc" style="background:#b3e5fc;"></button>
            <button data-color="#ffcdd2" style="background:#ffcdd2;"></button>
          </div>
        
          <!-- æ’å…¥åœ–ç‰‡ -->
          <input id="imgNote" type="file" accept="image/*" class="hidden">
          <button class="pill" id="bImg">æ’å…¥åœ–ç‰‡</button>

          <button class="pill hidden" id="btnExportNotes">åŒ¯å‡ºæœ¬å·è©³è§£</button>
        </div>

        <div id="editor" class="editor" contenteditable="true" aria-label="é€™é¡Œçš„ç­†è¨˜â€¦ï¼ˆå¯èª¿å­—ç´šã€ç²—é«”ã€é¡è‰²ã€è¢å…‰ç­†ã€æ’åœ–ï¼‰"></div>
        <div class="footer-hint">ç­†è¨˜æœƒè‡ªå‹•å„²å­˜åœ¨ç€è¦½å™¨ï¼ˆIndexedDB / localStorageï¼‰ã€‚</div>
      </div>
    </main>

    <!-- å³ï¼šé¸é¡Œæ¸…å–® -->
    <aside class="right panel">
      <div class="q-list" id="qList"></div>
    </aside>
  </div>
    <!-- Firebase CDNï¼šæ”¾åœ¨ app.js ä¹‹å‰ -->
  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore-compat.js"></script>

  <script>
    // é€™æ®µ firebaseConfig ç‰©ä»¶ï¼Œæ•´å€‹å¾ Firebase ç•«é¢è¤‡è£½è²¼ä¸Š
    const firebaseConfig = {
        apiKey: "AIzaSyCLA65MNmKe0xKNr3j213KpeU5mA4jycKw",
        authDomain: "ntuvmexam-pwa.firebaseapp.com",
        projectId: "ntuvmexam-pwa",
        storageBucket: "ntuvmexam-pwa.firebasestorage.app",
        messagingSenderId: "795891762702",
        appId: "1:795891762702:web:d0038d05d4803971749e5f",
        measurementId: "G-WYE4T2RBXQ"
    };

    // åˆå§‹åŒ– Firebase & Firestoreï¼ˆç”¨ compat ç‰ˆï¼Œèªæ³•æ¯”è¼ƒç°¡å–®ï¼‰[web:73][web:109]
    firebase.initializeApp(firebaseConfig);
    window.db = firebase.firestore();
  </script>
  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      // 1) è¨»å†Šæ™‚é—œæ‰ HTTP cacheï¼Œç¢ºä¿æ°¸é æŠ“åˆ°æœ€æ–°çš„ service-worker.js
      navigator.serviceWorker.register("./service-worker.js", {
        updateViaCache: "none"
      }); // [web:78][web:81][web:98][web:100]
  
      // 2) ç•¶æœ‰ã€Œæ–°çš„ SW æ¥æ‰‹æ§åˆ¶ã€æ™‚ï¼Œè‡ªå‹•é‡æ•´ä¸€æ¬¡
      let refreshing = false;
      navigator.serviceWorker.addEventListener("controllerchange", () => {
        if (refreshing) return;
        refreshing = true;
        window.location.reload();
      }); // [web:82][web:92][web:94][web:99]
    }
  </script>
</body>
</html>
